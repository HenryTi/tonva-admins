(this["webpackJsonptonva-admins"]=this["webpackJsonptonva-admins"]||[]).push([[0],{141:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u}));var n=r(0),a=(r(8),r(17)),c=r.p+"static/media/logo.2d27ead7.svg";function s(){return a.nav.loginTop(Object(n.jsxs)("div",{className:"d-flex align-items-center position-relative",children:[Object(n.jsx)("img",{className:"App-logo h-3c position-absolute",src:c,alt:"img"}),Object(n.jsxs)("div",{className:"h3 flex-fill text-center",children:[Object(n.jsx)("span",{className:"text-primary mr-3",children:"\u540c"}),Object(n.jsx)("span",{className:"text-danger",children:"\u82b1"})]})]}))}var i=[{type:"mobile",caption:"\u624b\u673a\u53f7",regex:a.mobileRegex},{type:"email",caption:"\u90ae\u7bb1",regex:a.emailRegex}];function u(e){return i.find((function(t){return!0===t.regex.test(e)}))}},143:function(e,t,r){"use strict";r.r(t),r.d(t,"RegisterController",(function(){return f})),r.d(t,"ForgetController",(function(){return v}));var n=r(0),a=r(1),c=r.n(a),s=r(2),i=r(3),u=r(4),o=r(6),l=r(7),p=(r(8),r(17)),b=r(36),h=r(21),m=(r(119),r(61)),d=r(141),f=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).account=void 0,e.type=void 0,e.password=void 0,e.verify=void 0,e.accountPageCaption="\u6ce8\u518c\u8d26\u53f7",e.accountLabel="\u6ce8\u518c\u8d26\u53f7",e.accountSubmitCaption="\u6ce8\u518c\u65b0\u8d26\u53f7",e.passwordPageCaption="\u8d26\u53f7\u5bc6\u7801",e.passwordSubmitCaption="\u6ce8\u518c\u65b0\u8d26\u53f7",e.successText="\u6ce8\u518c\u6210\u529f",e.login=function(){var t=Object(s.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.p.login({user:r||e.account,pwd:e.password,guest:p.nav.guest});case 2:if(void 0!==(n=t.sent)){t.next=6;break}return alert("something wrong!"),t.abrupt("return");case 6:return t.next=8,p.nav.userLogined(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(r,[{key:"internalStart",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openVPage(j);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toVerify",value:function(e){this.account=e,this.openVPage(x)}},{key:"toPassword",value:function(){this.openVPage(y)}},{key:"toSuccess",value:function(e){this.openVPage(g,e)}},{key:"regReturn",value:function(e){var t;switch(e){default:return"\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef";case 4:return"\u9a8c\u8bc1\u7801\u9519\u8bef";case 0:return;case 1:t="\u7528\u6237\u540d "+this.account;break;case 2:t="\u624b\u673a\u53f7 +"+this.account;break;case 3:t="\u90ae\u7bb1 "+this.account}return t+" \u5df2\u7ecf\u88ab\u6ce8\u518c\u8fc7\u4e86"}},{key:"checkAccount",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.p.isExists(this.account);case 2:if(t=e.sent,void 0===(r=this.accountError(t))){e.next=6;break}return e.abrupt("return",r);case 6:return e.next=8,h.p.sendVerify(this.account,this.type,p.nav.oem);case 8:return t=e.sent,this.toVerify(this.account),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"accountError",value:function(e){if(e>0)return"\u5df2\u7ecf\u88ab\u6ce8\u518c\u4f7f\u7528\u4e86"}},{key:"execute",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={nick:void 0,user:this.account,pwd:this.password,country:void 0,mobile:void 0,mobileCountry:void 0,email:void 0,verify:this.verify},e.t0=this.type,e.next="mobile"===e.t0?4:"email"===e.t0?7:9;break;case 4:return t.mobile=Number(this.account),t.mobileCountry=86,e.abrupt("break",9);case 7:return t.email=this.account,e.abrupt("break",9);case 9:return e.next=11,h.p.register(t);case 11:if(0!==(r=e.sent)){e.next=16;break}return p.nav.clear(),this.toSuccess(),e.abrupt("return");case 16:return n=this.regReturn(r),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(b.a),v=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).accountPageCaption="\u5bc6\u7801\u627e\u56de",e.accountLabel="\u8d26\u53f7",e.accountSubmitCaption="\u6ce8\u518c\u65b0\u8d26\u53f7",e.passwordPageCaption="\u91cd\u7f6e\u5bc6\u7801",e.passwordSubmitCaption="\u63d0\u4ea4",e.successText="\u6210\u529f\u4fee\u6539\u5bc6\u7801",e}return Object(u.a)(r,[{key:"execute",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.p.resetPassword(this.account,this.password,this.verify,this.type);case 2:return t=e.sent,p.nav.clear(),this.toSuccess(t),e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"accountError",value:function(e){if(0===e)return"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8d26\u53f7"}}]),r}(f),j=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).schema=[{name:"user",type:"string",required:!0,maxLength:100},{name:"verify",type:"submit"}],e.uiSchema=void 0,e.res=Object(p.resLang)(m.d),e.onSubmit=function(){var t=Object(s.a)(c.a.mark((function t(r,n){var a,s,i,u,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.clearContextErrors(),a="user",s=n.getValue(a),void 0!==(i=Object(d.a)(s))){t.next=7;break}return n.setError(a,"\u5fc5\u987b\u662f\u624b\u673a\u53f7\u6216\u90ae\u7bb1"),t.abrupt("return");case 7:if("mobile"!==(u=i.type)){t.next=12;break}if(11===s.length&&"1"===s[0]){t.next=12;break}return n.setError(a,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"),t.abrupt("return");case 12:return e.controller.account=s,e.controller.type=u,t.next=16,e.controller.checkAccount();case 16:void 0!==(o=t.sent)&&n.setError(a,o);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onEnter=function(){var t=Object(s.a)(c.a.mark((function t(r,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("user"!==r){t.next=4;break}return t.next=3,e.onSubmit("verify",n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(u.a)(r,[{key:"init",value:function(){this.uiSchema={items:{user:{widget:"text",label:this.controller.accountLabel,placeholder:"\u624b\u673a\u53f7\u6216\u90ae\u7bb1"},verify:{widget:"button",className:"btn btn-primary btn-block mt-3",label:"\u53d1\u9001\u9a8c\u8bc1\u7801"}}}}},{key:"header",value:function(){return this.controller.accountPageCaption}},{key:"footer",value:function(){return Object(n.jsx)(p.Ax,{href:"/login",children:"\u767b\u5f55"})}},{key:"content",value:function(){return Object(n.jsxs)("div",{className:"w-max-20c my-5 py-5",style:{marginLeft:"auto",marginRight:"auto"},children:[Object(d.b)(),Object(n.jsx)("div",{className:"h-3c"}),Object(n.jsx)(p.Ax,{href:"/login",children:"\u767b\u5f55"}),Object(n.jsx)(p.Form,{schema:this.schema,uiSchema:this.uiSchema,onButtonClick:this.onSubmit,onEnter:this.onEnter,requiredFlag:!1}),p.nav.privacyEntry()]})}}]),r}(b.b),x=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return(e=t.call.apply(t,[this].concat(u))).schema=[{name:"verify",type:"number",required:!0,maxLength:6},{name:"submit",type:"submit"}],e.onVerifyChanged=function(e,t,r){e.setDisabled("submit",!t||6!==t.length)},e.uiSchema={items:{verify:{widget:"text",label:"\u9a8c\u8bc1\u7801",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onChanged:e.onVerifyChanged},submit:{widget:"button",className:"btn btn-primary btn-block mt-3",label:"\u4e0b\u4e00\u6b65 >",disabled:!0}}},e.onSubmit=function(){var t=Object(s.a)(c.a.mark((function t(r,n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.controller.verify=n.getValue("verify"),t.next=3,h.p.checkVerify(e.controller.account,a);case 3:if(0!==t.sent){t.next=7;break}return n.setError("verify","\u9a8c\u8bc1\u7801\u9519\u8bef"),t.abrupt("return");case 7:e.controller.toPassword();case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onEnter=function(){var t=Object(s.a)(c.a.mark((function t(r,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("verify"!==r){t.next=4;break}return t.next=3,e.onSubmit("submit",n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){var t,r;switch(e.controller.type){case"mobile":t="\u624b\u673a\u53f7";break;case"email":t="\u90ae\u7bb1",r=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"text-danger",children:"\u6ce8\u610f"}),": \u6709\u53ef\u80fd\u8bef\u4e3a\u5783\u573e\u90ae\u4ef6\uff0c\u8bf7\u68c0\u67e5",Object(n.jsx)("br",{})]})}return Object(n.jsx)(p.Page,{header:"\u9a8c\u8bc1\u7801",children:Object(n.jsxs)("div",{className:"w-max-20c my-5 py-5",style:{marginLeft:"auto",marginRight:"auto"},children:["\u9a8c\u8bc1\u7801\u5df2\u7ecf\u53d1\u9001\u5230",t,Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"py-2 px-3 my-2 text-primary bg-light",children:Object(n.jsx)("b",{children:e.controller.account})}),r,Object(n.jsx)("div",{className:"h-1c"}),Object(n.jsx)(p.Form,{schema:e.schema,uiSchema:e.uiSchema,onButtonClick:e.onSubmit,onEnter:e.onEnter,requiredFlag:!1})]})})},e}return Object(u.a)(r,[{key:"open",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(b.b),y=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return(e=t.call.apply(t,[this].concat(u))).schema=[{name:"pwd",type:"string",required:!0,maxLength:100},{name:"rePwd",type:"string",required:!0,maxLength:100},{name:"submit",type:"submit"}],e.uiSchema=void 0,e.onSubmit=function(){var t=Object(s.a)(c.a.mark((function t(r,a){var s,i,u,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.form.data,i=s.pwd,u=s.rePwd,i&&i===u){t.next=9;break}a.setValue("pwd",""),a.setValue("rePwd",""),o="\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\u5bc6\u7801\uff01",a.setError("pwd",o),t.next=14;break;case 9:return e.controller.password=i,t.next=12,e.controller.execute();case 12:void 0!==(o=t.sent)&&p.nav.push(Object(n.jsx)(p.Page,{header:"\u6ce8\u518c\u4e0d\u6210\u529f",children:Object(n.jsx)("div",{className:"p-5 text-danger",children:o})}));case 14:return t.abrupt("return",o);case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onEnter=function(){var t=Object(s.a)(c.a.mark((function t(r,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("rePwd"!==r){t.next=4;break}return t.next=3,e.onSubmit("submit",n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=function(){return Object(n.jsx)(p.Page,{header:e.controller.passwordPageCaption,children:Object(n.jsxs)("div",{className:"w-max-20c my-5 py-5",style:{marginLeft:"auto",marginRight:"auto"},children:["\u6ce8\u518c\u8d26\u53f7",Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"py-2 px-3 my-2 text-primary bg-light",children:Object(n.jsx)("b",{children:e.controller.account})}),Object(n.jsx)("div",{className:"h-1c"}),Object(n.jsx)(p.Form,{schema:e.schema,uiSchema:e.uiSchema,onButtonClick:e.onSubmit,onEnter:e.onEnter,requiredFlag:!1})]})})},e}return Object(u.a)(r,[{key:"open",value:function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.uiSchema={items:{pwd:{widget:"password",placeholder:"\u5bc6\u7801",label:"\u5bc6\u7801"},rePwd:{widget:"password",placeholder:"\u91cd\u590d\u5bc6\u7801",label:"\u91cd\u590d\u5bc6\u7801"},submit:{widget:"button",className:"btn btn-primary btn-block mt-3",label:this.controller.passwordSubmitCaption}}},this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(b.b),g=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).page=function(t){var r=t.users,a=e.controller,c=a.account,s=a.successText,i=a.login;return void 0===r?Object(n.jsx)(p.Page,{header:!1,children:Object(n.jsx)("div",{className:"container w-max-30c",children:Object(n.jsxs)("div",{className:"my-5",children:[Object(n.jsxs)("div",{className:"py-5",children:["\u8d26\u53f7 ",Object(n.jsxs)("strong",{className:"text-primary",children:[c," "]})," ",s,"\uff01"]}),Object(n.jsx)("button",{className:"btn btn-success btn-block",type:"button",onClick:function(){return i(void 0)},children:"\u76f4\u63a5\u767b\u5f55"})]})})}):Object(n.jsx)(p.Page,{header:!1,children:Object(n.jsx)("div",{className:"container w-max-30c",children:Object(n.jsxs)("div",{className:"my-5",children:[Object(n.jsx)("div",{className:"py-5 text-success",children:s}),r.map((function(e){var t=e.name;return Object(n.jsxs)("div",{className:"py-2 cursor-pointer",onClick:function(){return i(t)},children:["\u767b\u5f55\u8d26\u53f7 ",Object(n.jsxs)("strong",{className:"text-primary",children:[t," "]})]})}))]})})})},e}return Object(u.a)(r,[{key:"open",value:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,{users:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(b.b)}}]);
//# sourceMappingURL=0.6c424b6e.chunk.js.map